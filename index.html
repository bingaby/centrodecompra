<!-- Banner de Consentimento -->
<div id="cookie-banner" class="cookie-banner">
  <p>
    O <strong>Centro de Compra</strong> usa cookies para melhorar sua experiência, 
    personalizar anúncios e analisar o tráfego. 
    Você pode <a href="sobre.html">saiba mais</a> ou gerenciar suas escolhas.
  </p>
  <div class="cookie-actions">
    <button id="accept-cookies" class="btn-primary">Aceitar</button>
    <button id="reject-cookies" class="btn-secondary">Recusar</button>
    <button id="manage-cookies" class="btn-tertiary">Gerenciar opções</button>
  </div>
</div>

<style>
.cookie-banner {
  position: fixed;
  bottom: 0; left: 0; right: 0;
  background: #fff;
  padding: 15px;
  box-shadow: 0 -2px 8px rgba(0,0,0,0.1);
  display: flex; flex-direction: column; gap: 10px;
  font-size: 14px; z-index: 9999;
}
.cookie-actions { display: flex; gap: 10px; flex-wrap: wrap; }
.cookie-actions button {
  padding: 8px 16px; border: none; border-radius: 5px; cursor: pointer;
}
.btn-primary { background: #28a745; color: #fff; }
.btn-secondary { background: #dc3545; color: #fff; }
.btn-tertiary { background: #6c757d; color: #fff; }
</style>

<script>
(function() {
  const banner = document.getElementById("cookie-banner");
  const accepted = localStorage.getItem("cookies_consent");

  if (!accepted) banner.style.display = "block";

  document.getElementById("accept-cookies").onclick = () => {
    localStorage.setItem("cookies_consent", "accepted");
    banner.style.display = "none";
    gtag('consent', 'update', { ad_storage: 'granted', analytics_storage: 'granted' });
  };

  document.getElementById("reject-cookies").onclick = () => {
    localStorage.setItem("cookies_consent", "rejected");
    banner.style.display = "none";
    gtag('consent', 'update', { ad_storage: 'denied', analytics_storage: 'denied' });
  };

  document.getElementById("manage-cookies").onclick = () => {
    alert("Aqui você pode abrir um modal detalhado de categorias de cookies.");
  };
})();
</script>
